\documentclass{llncs}

\usepackage[utf8x]{inputenc}

\begin{document}

\title{Multilatex: a collaborative web editor for \LaTeX}

\author{Paul Nechifor}

\institute{Faculty of Computer Science,\\University of Ia»ôi}

\maketitle

\begin{abstract}

This report describes the building of a system for collaborative editing of \LaTeX{} projects. This includes simultaneous editing of multiple files, manipulating the history, ... Sharing features... This paper only describes the technical details and not all the features (which are reviewed in a demo on the website: \texttt{multilatex.com}).

\end{abstract}

\section{Introduction}

\TeX{} was started in 1977 by D. Knuth to better typeset scientific articles and books. \LaTeX{} is a generalised set of macros based on \TeX{}.

The advantages it has over WYSIWYG editors is that it allows you to focus on the content rather than its presentation. In those editors beginers are frequently tempted to insert spaces and new lines for alignment and page breaking because they are editing the presentation rather than the semantincs.

Although it as an ecelent tool at its inception in the limited systems of the day, \TeX{} fails to take advantace of more recent advancements. Some of the problems are:

\begin{itemize}

\item Static workflow. The usual workflow is: edit text file, compile, review output, repeat. \LaTeX{} doesn't compile what changed, it can only compile the whole document which is slow.

\item Package system. \LaTeX{} supports packages in a limited way. There is no versioning in requiring packages. Repositories are based on distributions.

\item ...

\end{itemize}

Some of these problems are solved by web sites like \mbox{ShareLaTeX} and \mbox{writeLaTeX}. In this paper I describe building a similar web site.

\section{Server}

\subsection{Stack}

The development and production websites run on Ubuntu 12.04, but other Linux distibutions can be used.

The server-side logic in written in JavaScript for Node.

Multilatex depends on the \texttt{texlive-full} package which requires about 2~GiB of disk space and provides a large selection of \LaTeX packages.

As a web framework I use Express which is the most widely used framework for Node.

I use Jade for HTML templates and Stylus as a stylesheet language. They have a similar clutter-free syntax based on whitespace.

\subsection {Build Process}

I use Grunt for build automation. The site isn't typical so building it is a bit more complex. It is meant to be used in two modes: development and production. Development all the debuging options. It also includes deploying to remote systems by SSH.

The first step is creating a custom user if it doesn't exist. The user is used for running the Node server. This is safer than running as root or a human user.

Then file system structure is layed out if it doesn't exist.

Optionally, the templates can be rebuilt.

For modularity, the client-side scripts and stylesheets are split in multiple files. This requires they be built before packaging with the web server.

I use the Browserify module for joining the JavaScript files into a single one. They are then minified using the Uglify package. Minification is code refactoring for making files smaller. Usualy techniques are renaming variables with shorter ones and removing unecessary whitespace.

This, howerver, makes code unreadable for browser side debugging. The solution for this is adding a source map. This is a way of packaging the original sources of the files such that browsers can point to them, even is stack traces. It works even if the original language wasn't JavaScript.

\section{Client}



\section{Conclusion}

Conclusions are here.

\begin{thebibliography}{1}

\bibitem{Einstein}
A. Einstein, On the movement of small particles suspended in stationary liquids required by the molecular-kinetic theory of heat, Annalen der Physik 17, pp. 549-560, 1905.

\end{thebibliography}

\end{document}
